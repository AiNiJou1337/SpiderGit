# GitHub Trending Scraper - Backend

GitHub è¶‹åŠ¿çˆ¬è™«ç³»ç»Ÿçš„åç«¯æ¨¡å—ï¼Œæä¾›å®Œæ•´çš„æ•°æ®çˆ¬å–ã€åˆ†æå’Œå¤„ç†åŠŸèƒ½ã€‚

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
backend/
â”œâ”€â”€ scraper/                    # çˆ¬è™«æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ token_manager.py   # GitHub Token ç®¡ç†
â”‚   â”‚   â””â”€â”€ api_client.py      # GitHub API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ analyzers/             # æ•°æ®åˆ†æå™¨
â”‚   â”‚   â”œâ”€â”€ code_analyzer.py   # ä»£ç åˆ†æå™¨
â”‚   â”‚   â””â”€â”€ data_analysis.py   # æ•°æ®ç»Ÿè®¡åˆ†æ
â”‚   â”œâ”€â”€ crawlers/              # çˆ¬è™«å®ç°
â”‚   â”‚   â”œâ”€â”€ trending_crawler.py    # è¶‹åŠ¿çˆ¬è™«
â”‚   â”‚   â””â”€â”€ keyword_scraper.py     # å…³é”®è¯çˆ¬è™«
â”‚   â”œâ”€â”€ main.py                # ä¸»ç¨‹åºå…¥å£
â”‚   â””â”€â”€ scheduler.py           # å®šæ—¶ä»»åŠ¡è°ƒåº¦
â”œâ”€â”€ requirements/              # ä¾èµ–ç®¡ç†
â”‚   â”œâ”€â”€ base.txt              # åŸºç¡€ä¾èµ–
â”‚   â””â”€â”€ dev.txt               # å¼€å‘ä¾èµ–
â””â”€â”€ pyproject.toml            # é¡¹ç›®é…ç½®
```

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½ Token ç®¡ç†
- å¤š GitHub Token è‡ªåŠ¨è½®æ¢
- é€Ÿç‡é™åˆ¶æ™ºèƒ½å¤„ç†
- Token çŠ¶æ€å®æ—¶ç›‘æ§

### 2. è¶‹åŠ¿æ•°æ®çˆ¬å–
- æ¯æ—¥/æ¯å‘¨/æ¯æœˆè¶‹åŠ¿ä»“åº“
- å¤šè¯­è¨€åˆ†ç±»çˆ¬å–
- ä»“åº“è¯¦ç»†ä¿¡æ¯è·å–

### 3. å…³é”®è¯æœç´¢
- åŸºäºå…³é”®è¯çš„ä»“åº“æœç´¢
- ä»£ç ç»“æ„åˆ†æ
- ä¾èµ–åº“ç»Ÿè®¡

### 4. æ•°æ®åˆ†æ
- ç¼–ç¨‹è¯­è¨€åˆ†å¸ƒåˆ†æ
- æ˜Ÿæ•°è¶‹åŠ¿ç»Ÿè®¡
- ä¸»é¢˜æ ‡ç­¾åˆ†æ
- ä»“åº“åˆ›å»ºæ—¶é—´è¶‹åŠ¿

### 5. å®šæ—¶ä»»åŠ¡
- è‡ªåŠ¨åŒ–æ•°æ®çˆ¬å–
- çµæ´»çš„è°ƒåº¦é…ç½®
- å¼‚å¸¸å¤„ç†å’Œæ¢å¤

## ğŸ“¦ å®‰è£…å’Œé…ç½®

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- pip æˆ– poetry

### å®‰è£…ä¾èµ–

```bash
# åŸºç¡€ä¾èµ–
pip install -r requirements/base.txt

# å¼€å‘ä¾èµ–ï¼ˆåŒ…å«æµ‹è¯•å’Œä»£ç è´¨é‡å·¥å…·ï¼‰
pip install -r requirements/dev.txt
```

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# GitHub API Tokens (å¤šä¸ªç”¨é€—å·åˆ†éš”)
GITHUB_TOKENS=ghp_token1,ghp_token2,ghp_token3

# æˆ–å•ä¸ª Token
GITHUB_TOKEN=ghp_your_token_here

# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://user:password@localhost:5432/github_trending

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=INFO
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### 1. è¿è¡Œä¸»çˆ¬è™«ç¨‹åº

```bash
# è¿è¡Œå®Œæ•´çš„çˆ¬å–ä»»åŠ¡
python -m backend.scraper.main

# æˆ–ä½¿ç”¨å®‰è£…çš„å‘½ä»¤
github-scraper
```

### 2. å¯åŠ¨å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨

```bash
# å¯åŠ¨è°ƒåº¦å™¨
python -m backend.scraper.scheduler

# æˆ–ä½¿ç”¨å®‰è£…çš„å‘½ä»¤
github-scheduler
```

### 3. å…³é”®è¯æœç´¢

```bash
# æœç´¢ç‰¹å®šå…³é”®è¯
python -m backend.scraper.crawlers.keyword_scraper "machine learning" --max-results 50

# åŒ…å«ä»£ç åˆ†æ
python -m backend.scraper.crawlers.keyword_scraper "react" --analyze-code --output-dir results
```

### 4. æ•°æ®åˆ†æ

```bash
# åˆ†æå·²çˆ¬å–çš„æ•°æ®
python -m backend.scraper.analyzers.data_analysis data.json --output analysis_report.json

# æˆ–ä½¿ç”¨å®‰è£…çš„å‘½ä»¤
github-analyzer data.json -o report.json
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/backend/test_keyword_scraper.py

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=backend --cov-report=html
```

## ğŸ”§ å¼€å‘å·¥å…·

### ä»£ç æ ¼å¼åŒ–
```bash
# æ ¼å¼åŒ–ä»£ç 
black backend/

# æ’åºå¯¼å…¥
isort backend/
```

### ä»£ç è´¨é‡æ£€æŸ¥
```bash
# è¯­æ³•æ£€æŸ¥
flake8 backend/

# ç±»å‹æ£€æŸ¥
mypy backend/

# å®‰å…¨æ£€æŸ¥
bandit -r backend/
```

## ğŸ“Š API é€Ÿç‡é™åˆ¶

GitHub API æœ‰ä»¥ä¸‹é™åˆ¶ï¼š
- æœªè®¤è¯è¯·æ±‚ï¼š60 æ¬¡/å°æ—¶
- è®¤è¯è¯·æ±‚ï¼š5000 æ¬¡/å°æ—¶
- æœç´¢ APIï¼š30 æ¬¡/åˆ†é’Ÿ

æœ¬ç³»ç»Ÿé€šè¿‡ä»¥ä¸‹æ–¹å¼ä¼˜åŒ–ï¼š
- å¤š Token è½®æ¢ä½¿ç”¨
- æ™ºèƒ½é€Ÿç‡é™åˆ¶æ£€æµ‹
- è‡ªåŠ¨ç­‰å¾…å’Œé‡è¯•æœºåˆ¶

## ğŸ” ç›‘æ§å’Œæ—¥å¿—

ç³»ç»Ÿæä¾›å®Œæ•´çš„æ—¥å¿—è®°å½•ï¼š
- çˆ¬å–è¿›åº¦å’ŒçŠ¶æ€
- API è°ƒç”¨ç»Ÿè®¡
- é”™è¯¯å’Œå¼‚å¸¸ä¿¡æ¯
- æ€§èƒ½æŒ‡æ ‡

æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼š
- `scraper.log` - ä¸»ç¨‹åºæ—¥å¿—
- `scheduler.log` - è°ƒåº¦å™¨æ—¥å¿—
- `keyword_scraper.log` - å…³é”®è¯çˆ¬è™«æ—¥å¿—
- `data_analysis.log` - æ•°æ®åˆ†ææ—¥å¿—

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **API Token å®‰å…¨**ï¼šè¯·å¦¥å–„ä¿ç®¡ GitHub Tokenï¼Œä¸è¦æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
2. **é€Ÿç‡é™åˆ¶**ï¼šåˆç†è®¾ç½®çˆ¬å–é¢‘ç‡ï¼Œé¿å…è§¦å‘ GitHub çš„åçˆ¬æœºåˆ¶
3. **æ•°æ®å­˜å‚¨**ï¼šå¤§é‡æ•°æ®å»ºè®®ä½¿ç”¨æ•°æ®åº“å­˜å‚¨è€Œé JSON æ–‡ä»¶
4. **å¼‚å¸¸å¤„ç†**ï¼šç½‘ç»œå¼‚å¸¸æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨é‡è¯•ï¼Œä½†è¯·ç›‘æ§æ—¥å¿—

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨å¼‚æ­¥ HTTP è¯·æ±‚æé«˜å¹¶å‘æ€§èƒ½
- å®ç°æ™ºèƒ½ç¼“å­˜å‡å°‘é‡å¤è¯·æ±‚
- æ‰¹é‡å¤„ç†æ•°æ®æé«˜æ•ˆç‡
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶
